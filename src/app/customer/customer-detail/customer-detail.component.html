<div class="page-header-main">
  <div class="row align-items-center justify-content-between">
    <div class="col-md-auto col-sm-auto">
      <div class="content-header svg-icons"
        [ngClass]="{'content-header-ar':translationService.getSelectedLanguage()=='ar'}">
        <h1><i class="icon3"></i> <span>{{'CUSTOMER.MANAGE_CUSTOMER' | translate}}</span></h1>
      </div>
    </div>
  </div>
  <div class="breadcrump-pages" [ngClass]="{'breadcrump-pages-ar':translationService.getSelectedLanguage()=='ar'}">
    <div class="crumbs-sec">
      <a [routerLink]="['/']">{{'SIDEBAR.DASHBOARD' | translate}}</a> / <a
        [routerLink]="['/customer']">{{'SIDEBAR.CUSTOMER' | translate}}</a> /
      <span>{{'CUSTOMER.MANAGE_CUSTOMER' | translate}}</span>
    </div>
  </div>
</div>
<form autocomplete="off" [formGroup]="customerForm" (ngSubmit)="onCustomerSubmit()"
  [ngClass]="{'form-label-ar':translationService.getSelectedLanguage()=='ar'}">
  <div class="row">
    <div class="col-md-6">
      <div class="section-boxed">
        <div class="boxed-header">{{'COMMON.PERSONAL_DETAILS' | translate}}</div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.FIRST_NAME_ENGLISH' | translate}} <span class="text-danger">*</span></label>
              <input formControlName="firstNameEnglish" class="form-control" type="text">
              <div *ngIf="customerForm.get('firstNameEnglish').touched && customerForm.get('firstNameEnglish').errors">
                <div class="text-danger" *ngIf="customerForm.get('firstNameEnglish').errors?.required">
                  {{'VALIDATIONS.FIRST_NAME_ENGLISH_IS_REQUIRED' | translate}}
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.FIRST_NAME_ARABIC' | translate}}</label>
              <input formControlName="firstNameArabic" class="form-control text-arabics" type="text">
            </div>
          </div> -->
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.NAME_PREFIX_ENGLISH' | translate}} </label>
              <input formControlName="namePrefixEnglish" class="form-control" type="text">
            </div>
          </div> -->
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.NAME_PREFIX_ARABIC' | translate}} </label>
              <input formControlName="namePrefixArabic" class="form-control text-arabics" type="text">
            </div>
          </div> -->
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.NAME_SUFFIX_ENGLISH' | translate}}</label>
              <input formControlName="nameSuffixEnglish" class="form-control" type="text">
            </div>
          </div> -->
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.NAME_SUFFIX_ARABIC' | translate}} </label>
              <input formControlName="nameSuffixArabic" class="form-control text-arabics" type="text">
            </div>
          </div> -->
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.MIDDLE_NAME_ENGLISH' | translate}} </label>
              <input formControlName="middleNameEnglish" class="form-control" type="text">
            </div>
          </div> -->
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.MIDDLE_NAME_ARABIC' | translate}} </label>
              <input formControlName="middleNameArabic" class="form-control text-arabics" type="text">
            </div>
          </div> -->
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.LAST_NAME_ENGLISH' | translate}} <span class="text-danger">*</span></label>
              <input formControlName="lastNameEnglish" class="form-control" type="text">
              <div *ngIf="customerForm.get('lastNameEnglish').touched && customerForm.get('lastNameEnglish').errors">
                <div class="text-danger" *ngIf="customerForm.get('lastNameEnglish').errors?.required">
                  {{'VALIDATIONS.LAST_NAME_ENGLISH_IS_REQUIRED' | translate}}
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.LAST_NAME_ARABIC' | translate}} </label>
              <input formControlName="lastNameArabic" class="form-control text-arabics" type="text">
            </div>
          </div> -->
        </div>
      </div>

      <div class="section-boxed">
        <div class="boxed-header">{{'COMMON.BUSINESS_DETAILS' | translate}}</div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.BUSINESS_NAME_ENGLISH' | translate}} <span class="text-danger">*</span></label>
              <input formControlName="nameEnglish" class="form-control" type="text">
              <div *ngIf="customerForm.get('nameEnglish').touched && customerForm.get('nameEnglish').errors">
                <div class="text-danger" *ngIf="customerForm.get('nameEnglish').errors?.required">
                  {{'VALIDATIONS.BUSINESS_NAME_ENGLISH_IS_REQUIRED' | translate}}
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.BUSINESS_NAME_ARABIC' | translate}}</label>
              <input formControlName="nameSecondLanguage" class="form-control text-arabics" type="text">
            </div>
          </div> -->
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.ACCOUNT_CODE' | translate}} <span class="text-danger">*</span></label>
              <input formControlName="accountCode" class="form-control" type="text">
              <div *ngIf="customerForm.get('accountCode').touched && customerForm.get('accountCode').errors">
                <div class="text-danger" *ngIf="customerForm.get('accountCode').errors?.required">
                  {{'VALIDATIONS.ACCOUNT_CODE_IS_REQUIRED' | translate}}
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.GST_NO' | translate}}</label>
              <input formControlName="gstVatNo" class="form-control" type="text">
            </div>
          </div>
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.REG_NO' | translate}}</label>
              <input formControlName="regCrNo" class="form-control" type="text">
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.ADDITIONAL_REG_NO' | translate}}</label>
              <input formControlName="addRegNo" class="form-control" type="text">
            </div>
          </div> -->
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.OPENING_BALANCE' | translate}}</label>
              <input formControlName="openingBalance" class="form-control" type="text">
            </div>
          </div>
          <div class="col-md-6">
            <mat-radio-group aria-label="Select an option" formControlName="debitCredit">
              <mat-radio-button value="0">{{'COMMON.DR' | translate}}</mat-radio-button>
              <mat-radio-button value="1">{{'COMMON.CR' | translate}}</mat-radio-button>
            </mat-radio-group>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.CREDIT_LIMIT' | translate}}</label>
              <input formControlName="creditLimit" class="form-control" type="text">
            </div>
          </div>

          <div class="col-md-4">
            <div class="form-group">
              <label>{{'COMMON.MAX_CREDIT_DAYS' | translate}}</label>
              <input formControlName="maxCreditDays" class="form-control" type="text">
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label>{{'COMMON.SALESMAN' | translate}}</label>
              <mat-select placeholder="" class="w-100 form-control" formControlName="salesManUUID">
                <mat-option [value]="item.accountUUID" *ngFor="let item of employees">
                  {{translationService.getSelectedLanguage() == 'en'?item.nameEnglish:item.nameSecondLanguage}}
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="col-md-4">
            <mat-slide-toggle class="supplier-active" formControlName="isActive">
              {{(customerForm.get('isActive').value?'COMMON.ACTIVE':'COMMON.INACTIVE') | translate}}
            </mat-slide-toggle>
          </div>
        </div>
      </div>
    </div>


    <div class="col-md-6">
      <div class="section-boxed">
        <div class="boxed-header">{{'COMMON.ADDRESS_DETAILS' | translate}}</div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group ">
              <label>{{'COMMON.BUILDING_NUMBER_ENGLISH' | translate}}</label>
              <input formControlName="buildingNoEnglish" class="form-control" type="text">
            </div>
          </div>
          <!-- <div class="col-md-6">
            <div class="form-group ">
              <label>{{'COMMON.BUILDING_NUMBER_ARABIC' | translate}}</label>
              <input formControlName="buildingNoArabic" class="form-control text-arabics" type="text">
            </div>
          </div> -->
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.COUNTRY' | translate}} </label>
              <mat-select placeholder="" class="w-100 form-control" formControlName="country"
                (selectionChange)="onCountriesChange($event.value)">
                <mat-option [value]="item.countryUUID" *ngFor="let item of countries">
                  <span *ngIf="translationService.getSelectedLanguage() == 'en'">{{item.nameEnglish}}</span>
                  <span *ngIf="translationService.getSelectedLanguage() == 'ar'">{{item.nameSecondLanguage}}</span>
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.STATE' | translate}}</label>
              <mat-select placeholder="" class="w-100 form-control" formControlName="state"
                (selectionChange)="onStateChange($event.value)">
                <mat-option [value]="item.stateUUID" *ngFor="let item of states">
                  <span *ngIf="translationService.getSelectedLanguage() == 'en'">{{item.nameEnglish}}</span>
                  <span *ngIf="translationService.getSelectedLanguage() == 'ar'">{{item.nameSecondLanguage}}</span>
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.DISTRICT' | translate}}</label>
              <mat-select placeholder="" class="w-100 form-control" formControlName="district">
                <mat-option [value]="item.districtUUID" *ngFor="let item of districts">
                  <span *ngIf="translationService.getSelectedLanguage() == 'en'">{{item.nameEnglish}}</span>
                  <span *ngIf="translationService.getSelectedLanguage() == 'ar'">{{item.nameSecondLanguage}}</span>
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.PLACE_ENGLISH' | translate}}</label>
              <input formControlName="placeEnglish" class="form-control" type="text">
            </div>
          </div>
          <!-- <div class="col-md-6">
            <div class="form-group">
              <label>{{'COMMON.PLACE_ARABIC' | translate}}</label>
              <input formControlName="placeArabic" class="form-control text-arabics" type="text">
            </div>
          </div> -->
          <div class="col-md-6">
            <div class="form-group ">
              <label>{{'COMMON.STREET_NAME_ENGLISH' | translate}}</label>
              <input formControlName="streetEnglish" class="form-control" type="text">
            </div>
          </div>
          <!-- <div class="col-md-6">
            <div class="form-group ">
              <label>{{'COMMON.STREET_NAME_ARABIC' | translate}}</label>
              <input formControlName="streetArabic" class="form-control text-arabics" type="text">
            </div>
          </div> -->
          <div class="col-md-6">
            <div class="form-group ">
              <label>{{'COMMON.ZIP_CODE' | translate}}</label>
              <input formControlName="zipCode" class="form-control" type="text">
            </div>
          </div>
          <div class="col-md-6">
            <label>
              {{'COMMON.UPLOAD_LOGO' | translate}}
            </label>
            <mat-card class="cus-mat-card text-center">
              <input hidden (change)="onFileSelect($event)" #fileInput name="logo" type="file" name="Profile Image"
                fxFlex="30">
              <img *ngIf="imgSrc" class="full-width" [src]="imgSrc" />
              <img *ngIf="!imgSrc" class="full-width" src="../../../assets/images/company-logo.jpg" />
              <mat-card-actions>
                <button type="button" *ngIf="!imgSrc" class="btn btn-success btn-sm m-right-10"
                  (click)="fileInput.click()">
                  <i class="far fa-image"></i> {{'COMMON.ADD_LOGO' | translate}}</button>
                <button type="button" *ngIf="imgSrc" class="btn btn-success btn-sm m-right-10"
                  (click)="fileInput.click()">
                  <i class="far fa-image"></i> {{'COMMON.CHANGE_LOGO' | translate}}</button>
                <button *ngIf="imgSrc" type="button" (click)="onRemoveImage()" class="btn btn-danger btn-sm">
                  <i class="fas fa-trash-alt"></i> {{'COMMON.REMOVE_LOGO' | translate}}</button>
              </mat-card-actions>
            </mat-card>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="section-boxed">
        <div class="boxed-header">{{'COMMON.CONTACT_DETAILS' | translate}}</div>
        <div class="row">
          <div class="col-md-6">
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label>{{'COMMON.COUNTRY_CODE' | translate}}</label>
                  <mat-select placeholder="" class="w-100 form-control" formControlName="mobileCountryCode">
                    <mat-option [value]="item.countryCode" *ngFor="let item of countries">{{item.countryCode}}
                    </mat-option>
                  </mat-select>
                </div>
              </div>
              <div class="col-md-8">
                <div class="form-group ">
                  <label> {{'COMMON.MOBILE' | translate}}</label>
                  <input formControlName="mobile" class="form-control" type="text">
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label>{{'COMMON.COUNTRY_CODE' | translate}}</label>
                  <mat-select placeholder="" class="w-100 form-control" formControlName="phoneCountryCode">
                    <mat-option [value]="item.countryCode" *ngFor="let item of countries">{{item.countryCode}}
                    </mat-option>
                  </mat-select>
                </div>
              </div>
              <div class="col-md-8">
                <div class="form-group ">
                  <label>{{'COMMON.PHONE_NO' | translate}}</label>
                  <input formControlName="phone" class="form-control" type="text">
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group ">
              <label>{{'COMMON.EMAIL' | translate}}</label>
              <input formControlName="email" class="form-control" type="text">
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group ">
              <label>{{'COMMON.FAX_NO' | translate}}</label>
              <input formControlName="fax" class="form-control" type="text">
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group ">
              <label>{{'COMMON.WEBSITE' | translate}}</label>
              <input formControlName="website" class="form-control" type="text">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="m-top-10 m-bottom-40 col-md-12 text-center">
      <button type="submit" class="btn btn-success btn-sm m-right-10 m-left-10">
        <i class="fas fa-save"></i>
        {{'COMMON.SAVE' | translate}}
      </button>
      <button type="button" class="btn btn-danger btn-sm" (click)="onCustomerList()">
        <i class="fas fa-times-circle"></i>
        {{'COMMON.CANCEL' | translate}}
      </button>
    </div>
  </div>
</form>
<div class="loading-shade" *ngIf="loading$ | async">
  <mat-spinner></mat-spinner>
</div>
