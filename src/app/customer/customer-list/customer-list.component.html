<div class="page-header-main">
  <div class="row align-items-center justify-content-between">
    <div class="col-md-auto col-sm-auto col">
      <div
        class="content-header svg-icons"
        [ngClass]="{
          'content-header-ar': translationService.getSelectedLanguage() == 'ar'
        }"
      >
        <h1>{{ "SIDEBAR.CUSTOMER" | translate }}</h1>
      </div>
    </div>
    <div class="col-md-auto col-sm-auto col-auto">
      <button
        *hasClaim="'account_customer_create_customer'"
        class="btn blue-btn btn-sm m-right-10"
        [routerLink]="['/customer/manage/addItem']"
      >
        {{ "CUSTOMER.ADD_CUSTOMER" | translate }}&nbsp;
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 8V16M16 12H8"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z"
            stroke="white"
            stroke-width="1.5"
          />
        </svg>
      </button>
    </div>
  </div>
  <div
    class="breadcrump-pages"
    [ngClass]="{
      'breadcrump-pages-ar': translationService.getSelectedLanguage() == 'ar'
    }"
  >
    <div class="crumbs-sec">
      <a [routerLink]="['/']">{{ "SIDEBAR.DASHBOARD" | translate }}</a>
      <svg
        width="16"
        height="17"
        viewBox="0 0 16 17"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#clip0_229_1686)">
          <path
            d="M6 4.5L10 8.5L6 12.5"
            stroke="#4A4A4A"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </g>
        <defs>
          <clipPath id="clip0_229_1686">
            <rect
              width="16"
              height="16"
              fill="white"
              transform="translate(0 0.5)"
            />
          </clipPath>
        </defs>
      </svg>
      <span>{{ "SIDEBAR.CUSTOMER" | translate }}</span>
    </div>
  </div>
</div>
<div class="loading-shade" *ngIf="dataSource.loading$ | async">
  <mat-spinner></mat-spinner>
</div>
<div class="table-filter-container">
  <div class="filter-group">
    <div class="form">
      <i class="fa fa-search"></i>
      <input type="text" class="form-control form-input" placeholder="Search Category Name..." [(ngModel)]="NameEnglishFilter"/>
    </div>
    <!-- <label for="choose">Sort by</label>
    <mat-form-field class="filter-dropdown" #choose>
      <mat-select class="form-control">
         <div class="select-item-op">
        <mat-option  [value]="-1" >
         Choose
        </mat-option>
        </div>
      </mat-select>
    </mat-form-field>
    &nbsp;
    <svg width="35" height="35" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z" stroke="#4A4A4A" stroke-width="1.5" stroke-linejoin="round"/>
      <path d="M6 9H9.5M17 9H18M12 8V10M14.5 8V10" stroke="#4A4A4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M18 15H12M7 15H6M9.5 14V16" stroke="#4A4A4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Filters -->
  </div>
  <div class="table-responsive">
    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      multiTemplateDataRows
      matSortActive="nameEnglish"
      class="table table-bordered table-hover grid-height"
    >
      <ng-container matColumnDef="action">
        <th class="table-column-50" mat-header-cell *matHeaderCellDef></th>
        <td class="table-column-50" mat-cell *matCellDef="let customer">
          <button
            *hasClaim="[
              'account_customer_edit_customer',
              'account_customer_delete_customer'
            ]"
            class=""
            mat-icon-button
            [matMenuTriggerFor]="menu"
            aria-label="Action"
          >
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button
              *hasClaim="'account_customer_edit_customer'"
              (click)="editCustomer(customer.accountUUID)"
              mat-menu-item
            >
              <mat-icon>edit</mat-icon>
              <span>{{ "COMMON.EDIT" | translate }}</span>
            </button>
            <button
              *hasClaim="'account_customer_delete_customer'"
              mat-menu-item
              (click)="deleteCustomer(customer)"
            >
              <mat-icon>delete</mat-icon>
              <span>{{ "COMMON.DELETE" | translate }}</span>
            </button>
          </mat-menu>
        </td>
      </ng-container>
      <ng-container matColumnDef="nameEnglish">
        <th
          class="table-column-100"
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
        >
          {{ "COMMON.NAME_ENGLISH" | translate }}
        </th>
        <td class="table-column-100" mat-cell *matCellDef="let client">
          {{ client.nameEnglish }}
        </td>
      </ng-container>
      <ng-container matColumnDef="nameSecondLanguage">
        <th
          class="table-column-100"
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
        >
          {{ "COMMON.NAME_ARABIC" | translate }}
        </th>
        <td class="table-column-100" mat-cell *matCellDef="let client">
          {{ client.nameSecondLanguage }}
        </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th
          class="table-column-100"
          mat-header-cell
          *matHeaderCellDef   
        >
          {{ "COMMON.EMAIL" | translate }}
        </th>
        <td class="table-column-100" mat-cell *matCellDef="let row">
          {{ row?.email }}
        </td>
      </ng-container>
      <ng-container matColumnDef="mobileNo">
        <th
          class="table-column-100"
          mat-header-cell
          *matHeaderCellDef
         
        >
          {{ "COMMON.MOBILE" | translate }}
        </th>
        <td class="table-column-100" mat-cell *matCellDef="let row">
          {{ row?.mobile }}
        </td>
      </ng-container>
      <ng-container matColumnDef="state">
        <th
          class="table-column-100"
          mat-header-cell
          *matHeaderCellDef
          
        >
          {{ "COMMON.STATE" | translate }}
        </th>
        <td class="table-column-100" mat-cell *matCellDef="let row">
          {{ row?.stateObject?.nameEnglish }}
        </td>
      </ng-container>
      <ng-container matColumnDef="district">
        <th
          class="table-column-100"
          mat-header-cell
          *matHeaderCellDef
          
        >
          {{ "COMMON.DISTRICT" | translate }}
        </th>
        <td class="table-column-100" mat-cell *matCellDef="let row">
          {{ row?.districtObject?.nameEnglish }}
        </td>
      </ng-container>
      <ng-container matColumnDef="salesman">
        <th
          class="table-column-100"
          mat-header-cell
          *matHeaderCellDef
         
        >
          {{ "COMMON.SALESMAN" | translate }}
        </th>
        <td class="table-column-100" mat-cell *matCellDef="let row">
          {{ row?.salesMan }}
        </td>
      </ng-container>

      <ng-container matColumnDef="action-search">
        <th
          class="table-column-50"
          class="pr-5"
          mat-header-cell
          *matHeaderCellDef
        ></th>
      </ng-container>
      <ng-container matColumnDef="nameEnglish-search">
        <th class="table-column-300" mat-header-cell *matHeaderCellDef>
          <input
            type="text"
            placeholder="Name"
            class="form-control table-filter"
            [(ngModel)]="NameEnglishFilter"
          />
        </th>
      </ng-container>
      <ng-container matColumnDef="nameSecondLanguage-search">
        <th class="table-column-300" mat-header-cell *matHeaderCellDef>
          <input
            type="text"
            placeholder="Name"
            class="form-control table-filter"
            [(ngModel)]="NameArabicFilter"
          />
        </th>
      </ng-container>
      <ng-container matColumnDef="email-search">
        <th class="table-column-150" mat-header-cell *matHeaderCellDef>
          <input
            type="text"
            placeholder="Email"
            class="form-control table-filter"
            [(ngModel)]="EmailFilter"
          />
        </th>
      </ng-container>
      <ng-container matColumnDef="mobNo-search">
        <th class="table-column-200" mat-header-cell *matHeaderCellDef>
          <input
            type="text"
            placeholder="Mobile no"
            class="form-control table-filter"
            [(ngModel)]="MobileFilter"
          />
        </th>
      </ng-container>
      <ng-container matColumnDef="state-search">
        <th class="table-column-150" mat-header-cell *matHeaderCellDef>
          <input
            type="text"
            placeholder="State"
            class="form-control table-filter"
            [(ngModel)]="MobileOrPhoneFilter"
          />
        </th>
      </ng-container>
      <ng-container matColumnDef="district-search">
        <th class="table-column-150" mat-header-cell *matHeaderCellDef>
          <input
            type="text"
            placeholder="District"
            class="form-control table-filter"
            [(ngModel)]="WebsiteFilter"
          />
        </th>
      </ng-container>
      <ng-container matColumnDef="sales-search">
        <th mat-header-cell *matHeaderCellDef></th>
      </ng-container>

      <ng-container matColumnDef="footer">
        <td mat-footer-cell colspan="8" *matFooterCellDef>
          <mat-paginator
            [length]="customerResource.totalCount"
            [pageSize]="customerResource.pageSize"
            [pageSizeOptions]="[10, 20, 30]"
            showFirstLastButtons
          >
          </mat-paginator>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      <!-- <tr
        mat-header-row
        *matHeaderRowDef="searchHeader; sticky: true"
        class="example-second-header-row"
      ></tr> -->
      <tr mat-footer-row *matFooterRowDef="columnsToDisplay; sticky: true"></tr>
    </table>
    <ng-container *ngIf="dataSource.count === 0">
      <div class="row">
        <div class="col-sm-12 ml-4 mt-3 text-center">
          <label class="font-weight-bold">
            {{ "COMMON.NO_DATA_FOUND" | translate }}</label
          >
        </div>
      </div>
    </ng-container>
  </div>
</div>
