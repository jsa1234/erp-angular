<div class="page-header-main">
  <div class="row align-items-center justify-content-between">
    <div class="col-md-auto col-sm-auto">
      <div
        class="content-header svg-icons"
        [ngClass]="{
          'content-header-ar': translationService.getSelectedLanguage() == 'ar'
        }"
      >
        <h1>{{ "SIDEBAR.PRODUCT" | translate }}
        </h1>
      </div>
    </div>
    <div class="col-md-auto col-sm-auto">
      <button
        *hasClaim="'product_product_bulk_import_product'"
        class="btn blue-btn-secondary btn-sm m-right-10"
        [routerLink]="['/product/bulk-import']"
      >
        {{ "PRODUCT.BULK_IMPORT" | translate }} &nbsp;
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17 21C16.3932 20.4102 14 18.8403 14 18C14 17.1597 16.3932 15.5898 17 15M15 18H22" stroke="#BD6112" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 21C7.28595 21 4.92893 21 3.46447 19.5355C2 18.0711 2 15.714 2 11V7.94427C2 6.1278 2 5.21956 2.38032 4.53806C2.65142 4.05227 3.05227 3.65142 3.53806 3.38032C4.21956 3 5.1278 3 6.94427 3C8.10802 3 8.6899 3 9.19926 3.19101C10.3622 3.62712 10.8418 4.68358 11.3666 5.73313L12 7M8 7H16.75C18.8567 7 19.91 7 20.6667 7.50559C20.9943 7.72447 21.2755 8.00572 21.4944 8.33329C21.9796 9.05942 21.9992 10.0588 22 12V14" stroke="#BD6112" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
      </button>
      <button
        *hasClaim="'product_product_create_product'"
        class="btn blue-btn btn-sm m-right-10"
        [routerLink]="['/product/manage/add']"
      >
       {{ "PRODUCT.ADD_PRODUCT" | translate }}&nbsp;
       <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 8V16M16 12H8" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z" stroke="white" stroke-width="1.5"/>
        </svg>
        
      </button>
    </div>
  </div>
  <div
    class="breadcrump-pages"
    [ngClass]="{
      'breadcrump-pages-ar': translationService.getSelectedLanguage() == 'ar'
    }"
  >
    <div class="crumbs-sec">
      <a [routerLink]="['/']">{{ "SIDEBAR.DASHBOARD" | translate }}</a> <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_229_1686)">
        <path d="M6 4.5L10 8.5L6 12.5" stroke="#4A4A4A" stroke-linecap="round" stroke-linejoin="round"/>
        </g>
        <defs>
        <clipPath id="clip0_229_1686">
        <rect width="16" height="16" fill="white" transform="translate(0 0.5)"/>
        </clipPath>
        </defs>
        </svg>
      <span>{{ "SIDEBAR.PRODUCT" | translate }}</span>
    </div>
  </div>
</div>

<div class="loading-shade" *ngIf="dataSource.loading$ | async">
  <mat-spinner></mat-spinner>
</div>
<div class="table-filter-container">
  <div class="filter-group">
    <div class="form" [formGroup]="filterForm">
      <i class="fa fa-search"></i>
      <input type="text" class="form-control form-input" placeholder="Search Product Name..." formControlName="nameEnglish"/>
    </div>
    <!-- <label for="choose">Sort by</label>
    <mat-form-field class="filter-dropdown" #choose>
      <mat-select class="form-control">
         <div class="select-item-op">
        <mat-option  [value]="-1" >
         Choose
        </mat-option>
        </div>
      </mat-select>
    </mat-form-field>
    &nbsp;
    <svg width="35" height="35" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2.5 12C2.5 7.52166 2.5 5.28249 3.89124 3.89124C5.28249 2.5 7.52166 2.5 12 2.5C16.4783 2.5 18.7175 2.5 20.1088 3.89124C21.5 5.28249 21.5 7.52166 21.5 12C21.5 16.4783 21.5 18.7175 20.1088 20.1088C18.7175 21.5 16.4783 21.5 12 21.5C7.52166 21.5 5.28249 21.5 3.89124 20.1088C2.5 18.7175 2.5 16.4783 2.5 12Z" stroke="#4A4A4A" stroke-width="1.5" stroke-linejoin="round"/>
      <path d="M6 9H9.5M17 9H18M12 8V10M14.5 8V10" stroke="#4A4A4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M18 15H12M7 15H6M9.5 14V16" stroke="#4A4A4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Filters -->
  </div>
 <div class="table-container">

   <table
     mat-table
     [dataSource]="dataSource"
     class="table table-bordered table-hover"
     matSort
     multiTemplateDataRows
     matSortActive="nameEnglish"
   >
     <ng-container matColumnDef="action">
       <th class="pr-5" mat-header-cell *matHeaderCellDef></th>
       <td mat-cell *matCellDef="let product" class="table-column-130">
        <button
           *hasClaim="[
             'product_product_edit_product',
             'product_product_delete_product',
             'product_product_generate_barcode'
           ]"
           mat-icon-button
           [matMenuTriggerFor]="menu"
           aria-label="Action"
         >
           <mat-icon>more_vert</mat-icon>
         </button>
         <ng-container *hasClaim="'product_product_list_product_variants'">
           <i
             class="fas fa-chevron-down btn"
             *ngIf="product != expandedElement"
             (click)="toggleRow(product)"
           ></i>
           <i
             class="fas fa-chevron-up btn"
             *ngIf="product == expandedElement"
             (click)="toggleRow(product)"
           ></i>
         </ng-container>
         
         <mat-menu #menu="matMenu">
           <!-- *hasClaim="'product_product_view_product'" -->
           <button (click)="detailProduct(product.productUUID)" mat-menu-item>
            <i class="info-icon"></i>
             <span>{{ "COMMON.DETAIL" | translate }}</span>
           </button>
           <hr>
           <button
             *hasClaim="'product_product_edit_product'"
             (click)="editProduct(product.productUUID)"
             mat-menu-item
           >
           <i class="edit-icon"></i>
            
             <span>{{ "COMMON.EDIT" | translate }}</span>
           </button>
           <hr>
           <button
             *hasClaim="'product_product_delete_product'"
             mat-menu-item
             (click)="deleteProduct(product)"
           >
           <i class="delete-icon"></i>
             <span>{{ "COMMON.DELETE" | translate }}</span>
           </button>
           <hr>
           <button mat-menu-item (click)="generateBarcode(product.productUUID)">
            <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1.3335 3.16669V13.8334" stroke="#141B34" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M3.3335 3.16669V13.8334" stroke="#141B34" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10 3.16669V13.8334" stroke="#141B34" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M5.3335 12.5V4.50002C5.3335 3.87148 5.3335 3.55721 5.52876 3.36195C5.72402 3.16669 6.03829 3.16669 6.66683 3.16669C7.29536 3.16669 7.60963 3.16669 7.8049 3.36195C8.00016 3.55721 8.00016 3.87148 8.00016 4.50002V12.5C8.00016 13.1286 8.00016 13.4428 7.8049 13.6381C7.60963 13.8334 7.29536 13.8334 6.66683 13.8334C6.03829 13.8334 5.72402 13.8334 5.52876 13.6381C5.3335 13.4428 5.3335 13.1286 5.3335 12.5Z" stroke="#141B34" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 12.5V4.50002C12 3.87148 12 3.55721 12.1953 3.36195C12.3905 3.16669 12.7048 3.16669 13.3333 3.16669C13.9619 3.16669 14.2761 3.16669 14.4714 3.36195C14.6667 3.55721 14.6667 3.87148 14.6667 4.50002V12.5C14.6667 13.1286 14.6667 13.4428 14.4714 13.6381C14.2761 13.8334 13.9619 13.8334 13.3333 13.8334C12.7048 13.8334 12.3905 13.8334 12.1953 13.6381C12 13.4428 12 13.1286 12 12.5Z" stroke="#141B34" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
             <span>{{ "COMMON.GENERATE_BARCODE" | translate }}</span>
           </button>
         </mat-menu>
       </td>
     </ng-container>
 
     <ng-container matColumnDef="productCode">
       <th
         class="table-column-100"
         mat-header-cell
         *matHeaderCellDef
         mat-sort-header
       >
         {{ "PRODUCT.CODE" | translate }}
       </th>
       <td class="table-column-100" mat-cell *matCellDef="let product">
         {{ product.productCode }}
       </td>
     </ng-container>
     <ng-container matColumnDef="nameEnglish">
       <th
         class="table-column-100"
         mat-header-cell
         *matHeaderCellDef
         mat-sort-header
       >
         {{ "PRODUCT.NAME_ENGLISH" | translate }}
       </th>
       <td class="table-column-100" mat-cell *matCellDef="let product">
         {{ product.nameEnglish }}
       </td>
     </ng-container>
     <ng-container matColumnDef="nameSecondLanguage">
       <th
         class="table-column-100 text-right"
         mat-header-cell
         *matHeaderCellDef
         mat-sort-header
       >
         {{ "PRODUCT.NAME_ARABIC" | translate }}
       </th>
       <td
         class="table-column-100 text-right"
         mat-cell
         *matCellDef="let product"
       >
         {{ product.nameSecondLanguage }}
       </td>
     </ng-container>
     <ng-container matColumnDef="category">
       <th class="table-column-100" mat-header-cell *matHeaderCellDef>
         {{ "COMMON.CATEGORY" | translate }}
       </th>
       <td class="table-column-100" mat-cell *matCellDef="let product">
         {{ product.category }}
       </td>
     </ng-container>
     <ng-container matColumnDef="sub-category">
       <th class="table-column-100" mat-header-cell *matHeaderCellDef>
         {{ "COMMON.SUBCATEGORY" | translate }}
       </th>
       <td class="table-column-100" mat-cell *matCellDef="let product">
         {{ product.subCategory }}
       </td>
     </ng-container>
     <ng-container matColumnDef="brand">
       <th class="table-column-100" mat-header-cell *matHeaderCellDef>
         {{ "COMMON.BRAND" | translate }}
       </th>
       <td class="table-column-100" mat-cell *matCellDef="let product">
         {{ product.brand }}
       </td>
     </ng-container>
     <ng-container matColumnDef="partNo">
       <th
         class="table-column-100"
         mat-header-cell
         *matHeaderCellDef
         mat-sort-header
       >
         {{ "PRODUCT.PART_NO" | translate }}
       </th>
       <td class="table-column-100" mat-cell *matCellDef="let product">
         {{ product.partNo }}
       </td>
     </ng-container>
 
     <ng-container class="table-filter" matColumnDef="action-search">
       <th mat-header-cell *matHeaderCellDef></th>
     </ng-container>
     <form [formGroup]="filterForm">
       <ng-container class="table-filter" matColumnDef="code-search">
         <th mat-header-cell *matHeaderCellDef>
           <input
             placeholder="Code"
             type="text"
             class="form-control table-filter"
             formControlName="productCode"
           />
         </th>
       </ng-container>
       <ng-container class="table-filter" matColumnDef="nameEnglish-search">
         <th mat-header-cell *matHeaderCellDef>
           <input
             placeholder="Name English"
             type="text"
             class="form-control table-filter"
             formControlName="nameEnglish"
           />
         </th>
       </ng-container>
       <ng-container
         class="table-filter"
         matColumnDef="nameSecondLanguage-search"
       >
         <th mat-header-cell *matHeaderCellDef>
           <input
             placeholder="Name Arabic"
             type="text"
             class="form-control table-filter"
             [(ngModel)]="NameArabicFilter"
           />
         </th>
       </ng-container>
       <ng-container matColumnDef="category-search">
         <th mat-header-cell *matHeaderCellDef>
           <input
             placeholder="Category"
             type="text"
             class="form-control table-filter"
             formControlName="category"
           />
         </th>
       </ng-container>
       <ng-container matColumnDef="sub-search">
         <th mat-header-cell *matHeaderCellDef>
           <input
             placeholder="Sub Category"
             type="text"
             class="form-control table-filter"
             formControlName="subCategory"
           />
         </th>
       </ng-container>
       <ng-container matColumnDef="brand-search">
         <th mat-header-cell *matHeaderCellDef>
           <input
             placeholder="Brand"
             type="text"
             class="form-control table-filter"
             formControlName="brand"
           />
         </th>
       </ng-container>
       <ng-container matColumnDef="part-search">
         <th mat-header-cell *matHeaderCellDef>
           <input
             placeholder="Part"
             type="text"
             class="form-control table-filter"
             [(ngModel)]="PartnoFilter"
           />
         </th>
       </ng-container>
     </form>
 
     <tr class="mat-row" *matNoDataRow>
       <td class="mat-cell text-center" [attr.colspan]="displayedColumns.length">
         {{ "COMMON.NO_DATA_FOUND" | translate }}
       </td>
     </tr>
 
     <ng-container matColumnDef="footer">
       <td
         mat-footer-cell
         [attr.colspan]="displayedColumns.length"
         *matFooterCellDef
       >
         <mat-paginator
           [length]="productResource.totalCount"
           [pageSize]="productResource.pageSize"
           [pageSizeOptions]="pageSizeOptions"
           showFirstLastButtons
         >
         </mat-paginator>
       </td>
     </ng-container>
 
     <ng-container
       matColumnDef="expandedDetail"
       *hasClaim="'product_product_list_product_variants'"
     >
       <td
         mat-cell
         *matCellDef="let product"
         [ngClass]="{ highlight: product == expandedElement }"
         [attr.colspan]="displayedColumns.length"
       >
         <ng-container *ngIf="product == expandedElement">
           <div
             class="example-element-detail"
             [@detailExpand]="
               product == expandedElement ? 'expanded' : 'collapsed'
             "
           >
             <div class="inner-table mat-elevation-z8">
               <app-product-varient-list [productId]="product.productUUID">
               </app-product-varient-list>
             </div>
           </div>
         </ng-container>
       </td>
     </ng-container>
 
     <tr
       class="sticky-head"
       mat-header-row
       *matHeaderRowDef="displayedColumns; sticky: true"
     ></tr>
     <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
     <!-- <tr
       class="sticky-headfilter"
       mat-header-row
       *matHeaderRowDef="searchHeaders; sticky: true"
     ></tr> -->
     <tr mat-footer-row *matFooterRowDef="footerToDisplayed; sticky: true"></tr>
     <ng-container *hasClaim="'product_product_list_product_variants'">
       <tr
         mat-row
         *matRowDef="let row; columns: ['expandedDetail']"
         class="example-detail-row"
       ></tr>
     </ng-container>
   </table>
 </div>
</div>
